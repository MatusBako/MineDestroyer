

+distance(X1, Y1, X2, Y2, R) <-
	R = math.abs(X1 - X2) + math.abs(Y1 - Y2).

// TODO: GOTO
// ides kym mozes, ak nemozes, po pravej ruke kym nemozes spravnym smerom
// ukladas si odkial si prisiel aby si sa netocil



+!goto(X,Y) <-
	pos(X,Y);
	!skipMoves().

+!goto(X,Y) <-

+!skip <-
	moves_left(Left);
	Left > 0;
	do(skip);	// skip or not??
	!goto(X,Y)
+!skip <- true.

+!scanArea<-
	pos(X,Y),

+!storeInv <-
	depot(X,Y);
	pos(X,Y);
	do(drop).

+!storeInv <-
	depot(X,Y);
	goto(X,Y).

capacityReached :-
	carrying_gold(G) &
	carrying_wood(W) &
	carrying_capacity(MAX) &
	G + W == MAX.

onPowerUp :-
	

+!step(X): capacityReached <-
	!storeInv.

// TODO: zdvihni powerup
+!step(X): onPowerUp <-
	do(pick).

+!step(X): ResourcePos(X,Y) & pos(X, Y) <-
	do(pick).

+!step(X): ResourcePos(X,Y) <-
	!goto(X,Y).

+!step(X): mapNotExplored() <-
	getUnexploredPos(X,Y),
	goto(X,Y).
+!step(X).